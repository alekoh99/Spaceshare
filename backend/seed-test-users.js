require('dotenv').config();
const axios = require('axios');

const API_URL = 'http://localhost:8080/api';

// Test user data with diverse profiles
const testUsers = [
  {
    userId: 'user_001_alice_sf',
    name: 'Alice Chen',
    age: 28,
    email: 'alice@example.com',
    phone: '415-555-0101',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Software engineer, love hiking and coffee',
    moveInDate: new Date('2026-02-01'),
    budgetMin: 2000,
    budgetMax: 3000,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 8,
    sleepSchedule: 'early',
    socialFrequency: 6,
    noiseTolerance: 7,
    financialReliability: 9,
    hasPets: false,
    petTolerance: 7,
    guestPolicy: 6,
    privacyNeed: 5,
    kitchenHabits: 7
  },
  {
    userId: 'user_002_bob_la',
    name: 'Bob Martinez',
    age: 32,
    email: 'bob@example.com',
    phone: '213-555-0102',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Freelance designer, night owl, love music',
    moveInDate: new Date('2026-02-15'),
    budgetMin: 1800,
    budgetMax: 2500,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 6,
    sleepSchedule: 'late',
    socialFrequency: 8,
    noiseTolerance: 5,
    financialReliability: 7,
    hasPets: true,
    petTolerance: 8,
    guestPolicy: 8,
    privacyNeed: 4,
    kitchenHabits: 5
  },
  {
    userId: 'user_003_carol_sf',
    name: 'Carol Wong',
    age: 26,
    email: 'carol@example.com',
    phone: '415-555-0103',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Yoga instructor, vegetarian, quiet person',
    moveInDate: new Date('2026-03-01'),
    budgetMin: 2200,
    budgetMax: 2800,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 9,
    sleepSchedule: 'early',
    socialFrequency: 3,
    noiseTolerance: 4,
    financialReliability: 9,
    hasPets: true,
    petTolerance: 9,
    guestPolicy: 3,
    privacyNeed: 8,
    kitchenHabits: 9
  },
  {
    userId: 'user_004_david_nyc',
    name: 'David Thompson',
    age: 29,
    email: 'david@example.com',
    phone: '212-555-0104',
    city: 'New York',
    state: 'NY',
    bio: 'Data scientist, into board games and sci-fi',
    moveInDate: new Date('2026-02-20'),
    budgetMin: 2500,
    budgetMax: 3500,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 7,
    sleepSchedule: 'normal',
    socialFrequency: 5,
    noiseTolerance: 6,
    financialReliability: 8,
    hasPets: false,
    petTolerance: 6,
    guestPolicy: 5,
    privacyNeed: 6,
    kitchenHabits: 6
  },
  {
    userId: 'user_005_emma_sf',
    name: 'Emma Davis',
    age: 25,
    email: 'emma@example.com',
    phone: '415-555-0105',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Marketing professional, gym enthusiast',
    moveInDate: new Date('2026-03-15'),
    budgetMin: 2100,
    budgetMax: 2900,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 8,
    sleepSchedule: 'early',
    socialFrequency: 7,
    noiseTolerance: 6,
    financialReliability: 9,
    hasPets: false,
    petTolerance: 5,
    guestPolicy: 7,
    privacyNeed: 5,
    kitchenHabits: 6
  },
  {
    userId: 'user_006_frank_la',
    name: 'Frank Rodriguez',
    age: 31,
    email: 'frank@example.com',
    phone: '213-555-0106',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Film producer, party animal, very social',
    moveInDate: new Date('2026-02-28'),
    budgetMin: 1900,
    budgetMax: 2600,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 5,
    sleepSchedule: 'late',
    socialFrequency: 9,
    noiseTolerance: 4,
    financialReliability: 6,
    hasPets: true,
    petTolerance: 7,
    guestPolicy: 9,
    privacyNeed: 2,
    kitchenHabits: 4
  },
  {
    userId: 'user_007_grace_sf',
    name: 'Grace Kim',
    age: 27,
    email: 'grace@example.com',
    phone: '415-555-0107',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Product manager, love cooking, introvert',
    moveInDate: new Date('2026-03-10'),
    budgetMin: 2300,
    budgetMax: 3100,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 9,
    sleepSchedule: 'normal',
    socialFrequency: 4,
    noiseTolerance: 5,
    financialReliability: 10,
    hasPets: false,
    petTolerance: 4,
    guestPolicy: 4,
    privacyNeed: 9,
    kitchenHabits: 9
  },
  {
    userId: 'user_008_henry_nyc',
    name: 'Henry Chen',
    age: 30,
    email: 'henry@example.com',
    phone: '212-555-0108',
    city: 'New York',
    state: 'NY',
    bio: 'Investment banker, fitness focused',
    moveInDate: new Date('2026-03-05'),
    budgetMin: 3000,
    budgetMax: 4000,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 8,
    sleepSchedule: 'early',
    socialFrequency: 5,
    noiseTolerance: 7,
    financialReliability: 10,
    hasPets: false,
    petTolerance: 5,
    guestPolicy: 6,
    privacyNeed: 7,
    kitchenHabits: 7
  },
  {
    userId: 'user_009_iris_la',
    name: 'Iris Johnson',
    age: 24,
    email: 'iris@example.com',
    phone: '213-555-0109',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Student, artist, free spirit',
    moveInDate: new Date('2026-04-01'),
    budgetMin: 1500,
    budgetMax: 2000,
    roommatePrefGender: 'female',
    verified: false,
    cleanliness: 4,
    sleepSchedule: 'late',
    socialFrequency: 8,
    noiseTolerance: 3,
    financialReliability: 5,
    hasPets: true,
    petTolerance: 9,
    guestPolicy: 8,
    privacyNeed: 3,
    kitchenHabits: 3
  },
  {
    userId: 'user_010_jack_sf',
    name: 'Jack Wilson',
    age: 33,
    email: 'jack@example.com',
    phone: '415-555-0110',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Startup founder, workaholic, minimal social',
    moveInDate: new Date('2026-02-10'),
    budgetMin: 2800,
    budgetMax: 3500,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 6,
    sleepSchedule: 'late',
    socialFrequency: 2,
    noiseTolerance: 8,
    financialReliability: 9,
    hasPets: false,
    petTolerance: 3,
    guestPolicy: 2,
    privacyNeed: 10,
    kitchenHabits: 2
  },
  {
    userId: 'user_011_kate_nyc',
    name: 'Kate Anderson',
    age: 28,
    email: 'kate@example.com',
    phone: '212-555-0111',
    city: 'New York',
    state: 'NY',
    bio: 'Lawyer, organized, clean freak',
    moveInDate: new Date('2026-03-20'),
    budgetMin: 2600,
    budgetMax: 3400,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 10,
    sleepSchedule: 'early',
    socialFrequency: 4,
    noiseTolerance: 7,
    financialReliability: 10,
    hasPets: false,
    petTolerance: 5,
    guestPolicy: 5,
    privacyNeed: 6,
    kitchenHabits: 8
  },
  {
    userId: 'user_012_liam_la',
    name: 'Liam Garcia',
    age: 26,
    email: 'liam@example.com',
    phone: '213-555-0112',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Chef, loves cooking, very social',
    moveInDate: new Date('2026-03-01'),
    budgetMin: 1700,
    budgetMax: 2400,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 7,
    sleepSchedule: 'late',
    socialFrequency: 9,
    noiseTolerance: 6,
    financialReliability: 7,
    hasPets: true,
    petTolerance: 8,
    guestPolicy: 9,
    privacyNeed: 2,
    kitchenHabits: 10
  },
  {
    userId: 'user_013_mia_sf',
    name: 'Mia Taylor',
    age: 29,
    email: 'mia@example.com',
    phone: '415-555-0113',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Doctor, routine person, sleep important',
    moveInDate: new Date('2026-02-25'),
    budgetMin: 2400,
    budgetMax: 3200,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 8,
    sleepSchedule: 'early',
    socialFrequency: 3,
    noiseTolerance: 8,
    financialReliability: 10,
    hasPets: false,
    petTolerance: 6,
    guestPolicy: 3,
    privacyNeed: 7,
    kitchenHabits: 6
  },
  {
    userId: 'user_014_noah_nyc',
    name: 'Noah Brown',
    age: 25,
    email: 'noah@example.com',
    phone: '212-555-0114',
    city: 'New York',
    state: 'NY',
    bio: 'Musician, bohemian, flexible schedule',
    moveInDate: new Date('2026-04-10'),
    budgetMin: 1600,
    budgetMax: 2300,
    roommatePrefGender: 'any',
    verified: false,
    cleanliness: 5,
    sleepSchedule: 'late',
    socialFrequency: 8,
    noiseTolerance: 3,
    financialReliability: 4,
    hasPets: true,
    petTolerance: 9,
    guestPolicy: 7,
    privacyNeed: 2,
    kitchenHabits: 3
  },
  {
    userId: 'user_015_olivia_la',
    name: 'Olivia Miller',
    age: 31,
    email: 'olivia@example.com',
    phone: '213-555-0115',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Therapist, empathetic, good listener',
    moveInDate: new Date('2026-03-25'),
    budgetMin: 2000,
    budgetMax: 2700,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 7,
    sleepSchedule: 'normal',
    socialFrequency: 6,
    noiseTolerance: 6,
    financialReliability: 9,
    hasPets: true,
    petTolerance: 8,
    guestPolicy: 7,
    privacyNeed: 5,
    kitchenHabits: 6
  },
  {
    userId: 'user_016_peter_sf',
    name: 'Peter Lee',
    age: 27,
    email: 'peter@example.com',
    phone: '415-555-0116',
    city: 'San Francisco',
    state: 'CA',
    bio: 'Engineer, gamer, casual',
    moveInDate: new Date('2026-02-01'),
    budgetMin: 2200,
    budgetMax: 3000,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 5,
    sleepSchedule: 'late',
    socialFrequency: 5,
    noiseTolerance: 4,
    financialReliability: 8,
    hasPets: false,
    petTolerance: 7,
    guestPolicy: 6,
    privacyNeed: 4,
    kitchenHabits: 4
  },
  {
    userId: 'user_017_quinn_nyc',
    name: 'Quinn Phillips',
    age: 30,
    email: 'quinn@example.com',
    phone: '212-555-0117',
    city: 'New York',
    state: 'NY',
    bio: 'Teacher, patient, loves plants',
    moveInDate: new Date('2026-03-30'),
    budgetMin: 2300,
    budgetMax: 3000,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 8,
    sleepSchedule: 'early',
    socialFrequency: 6,
    noiseTolerance: 6,
    financialReliability: 8,
    hasPets: true,
    petTolerance: 9,
    guestPolicy: 6,
    privacyNeed: 5,
    kitchenHabits: 7
  },
  {
    userId: 'user_018_rachel_la',
    name: 'Rachel Green',
    age: 26,
    email: 'rachel@example.com',
    phone: '213-555-0118',
    city: 'Los Angeles',
    state: 'CA',
    bio: 'Fitness coach, disciplined, morning person',
    moveInDate: new Date('2026-02-20'),
    budgetMin: 1900,
    budgetMax: 2600,
    roommatePrefGender: 'female',
    verified: true,
    cleanliness: 9,
    sleepSchedule: 'early',
    socialFrequency: 7,
    noiseTolerance: 5,
    financialReliability: 9,
    hasPets: false,
    petTolerance: 6,
    guestPolicy: 5,
    privacyNeed: 4,
    kitchenHabits: 8
  },
  {
    userId: 'user_019_sam_sf',
    name: 'Sam Jackson',
    age: 28,
    email: 'sam@example.com',
    phone: '415-555-0119',
    city: 'San Francisco',
    state: 'CA',
    bio: 'UX designer, creative, introverted',
    moveInDate: new Date('2026-03-15'),
    budgetMin: 2300,
    budgetMax: 3100,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 7,
    sleepSchedule: 'normal',
    socialFrequency: 3,
    noiseTolerance: 6,
    financialReliability: 8,
    hasPets: true,
    petTolerance: 7,
    guestPolicy: 4,
    privacyNeed: 8,
    kitchenHabits: 6
  },
  {
    userId: 'user_020_tina_nyc',
    name: 'Tina White',
    age: 32,
    email: 'tina@example.com',
    phone: '212-555-0120',
    city: 'New York',
    state: 'NY',
    bio: 'Consultant, organized, work-life balance seeker',
    moveInDate: new Date('2026-03-01'),
    budgetMin: 2700,
    budgetMax: 3500,
    roommatePrefGender: 'any',
    verified: true,
    cleanliness: 9,
    sleepSchedule: 'early',
    socialFrequency: 5,
    noiseTolerance: 7,
    financialReliability: 10,
    hasPets: false,
    petTolerance: 5,
    guestPolicy: 5,
    privacyNeed: 6,
    kitchenHabits: 7
  }
];

async function seedUsers() {
  console.log('üå± Starting user seeding...');
  console.log(`Creating ${testUsers.length} test users\n`);

  let created = 0;
  let failed = 0;

  for (const user of testUsers) {
    try {
      const response = await axios.post(`${API_URL}/profiles`, user, {
        headers: {
          'x-user-id': user.userId,
          'Content-Type': 'application/json'
        }
      });

      console.log(`‚úÖ Created: ${user.name} (${user.userId}) in ${user.city}`);
      created++;
    } catch (error) {
      console.error(`‚ùå Failed: ${user.name} - ${error.response?.data?.error || error.message}`);
      failed++;
    }
  }

  console.log(`\nüìä Seeding complete!`);
  console.log(`‚úÖ Created: ${created}`);
  console.log(`‚ùå Failed: ${failed}`);
  console.log(`Total: ${created + failed}`);
}

seedUsers().catch(console.error);
